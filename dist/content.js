(()=>{"use strict";var e=[/([a-zA-Z])([\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g,/([\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])([a-zA-Z0-9])/g,/([a-zA-Z0-9])([\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g];function t(t){return e.reduce((function(e,t){return e.replace(t,"$1 $2")}),t)}var n="";function o(){var e=window.getSelection(),o=null==e?void 0:e.toString(),u="";return o?(u=t(o),navigator.clipboard.writeText(u),u):(u=t(n),navigator.clipboard.writeText(u),u)}chrome.runtime.onMessage.addListener((function(e,t,n){switch(e.action){case"processSelectedText":case"getProcessedText":n({success:!0,processedText:o()});break;default:n({success:!1})}})),document.addEventListener("mousedown",(function(){var e,t=document.getElementById("TextSpacer-0.0.4");t&&t.remove(),n=(null===(e=window.getSelection())||void 0===e?void 0:e.toString().trim())||""})),document.addEventListener("mouseup",(function(e){var t;if(!document.getElementById("TextSpacer-0.0.4")){var u=null===(t=window.getSelection())||void 0===t?void 0:t.toString().trim();if(u&&n!==u){var i=null==e?void 0:e.pageX,r=null==e?void 0:e.pageY,c=document.createElement("img");c.id="TextSpacer-0.0.4",c.src=chrome.runtime.getURL("configTS.svg"),c.style.position="absolute",c.style.cursor="pointer",c.style.left="".concat(i-30,"px"),c.style.top="".concat(r-5,"px"),document.body.appendChild(c),c.addEventListener("mousedown",(function(){console.log("mousedown"),o()}))}}}))})();