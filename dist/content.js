(()=>{"use strict";var e=[/([a-zA-Z])([\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g,/([\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])([a-zA-Z0-9])/g,/([a-zA-Z0-9])([\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g],t=function(t){return e.reduce((function(e,t){return e.replace(t,"$1 $2")}),t)},n="",o=function(){var e=window.getSelection(),o=null==e?void 0:e.toString(),i="";return o?(i=t(o),navigator.clipboard.writeText(i),i):(i=t(n),navigator.clipboard.writeText(i),i)};chrome.runtime.onMessage.addListener((function(e,t,n){switch(e.action){case"processSelectedText":case"getProcessedText":n({isSentMessage:!0,processedText:o()});break;default:n({isSentMessage:!1})}})),document.addEventListener("mousedown",(function(){var e,t=document.getElementById("TextSpacer-0.0.5");t&&t.remove(),n=(null===(e=window.getSelection())||void 0===e?void 0:e.toString().trim())||""})),document.addEventListener("mouseup",(function(e){var t;if(!document.getElementById("TextSpacer-0.0.5")){var i=null===(t=window.getSelection())||void 0===t?void 0:t.toString().trim();if(i&&n!==i){var u=null==e?void 0:e.pageX,r=null==e?void 0:e.pageY,c=document.createElement("img");c.id="TextSpacer-0.0.5",c.src=chrome.runtime.getURL("configTS.svg"),c.style.position="absolute",c.style.cursor="pointer",c.style.left="".concat(u-30,"px"),c.style.top="".concat(r-5,"px"),document.body.appendChild(c),c.addEventListener("mousedown",(function(){o()}))}}}))})();